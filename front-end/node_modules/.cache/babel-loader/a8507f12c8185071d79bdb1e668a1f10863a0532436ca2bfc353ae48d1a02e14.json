{"ast":null,"code":"'use strict';\n\nvar cid = require('multiformats/cid');\nvar dagPb = require('@ipld/dag-pb');\nvar sha2 = require('multiformats/hashes/sha2');\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\nvar dagPb__namespace = /*#__PURE__*/_interopNamespace(dagPb);\nconst persist = async (buffer, blockstore, options) => {\n  if (!options.codec) {\n    options.codec = dagPb__namespace;\n  }\n  if (!options.hasher) {\n    options.hasher = sha2.sha256;\n  }\n  if (options.cidVersion === undefined) {\n    options.cidVersion = 1;\n  }\n  if (options.codec === dagPb__namespace && options.hasher !== sha2.sha256) {\n    options.cidVersion = 1;\n  }\n  const multihash = await options.hasher.digest(buffer);\n  const cid$1 = cid.CID.create(options.cidVersion, options.codec.code, multihash);\n  if (!options.onlyHash) {\n    await blockstore.put(cid$1, buffer, {\n      signal: options.signal\n    });\n  }\n  return cid$1;\n};\nmodule.exports = persist;","map":{"version":3,"names":["cid","require","dagPb","sha2","_interopNamespace","e","__esModule","n","Object","create","keys","forEach","k","d","getOwnPropertyDescriptor","defineProperty","get","enumerable","freeze","dagPb__namespace","persist","buffer","blockstore","options","codec","hasher","sha256","cidVersion","undefined","multihash","digest","cid$1","CID","code","onlyHash","put","signal","module","exports"],"sources":["C:/FACULTATE/Proiect/node_modules/ipfs-unixfs-importer/cjs/src/utils/persist.js"],"sourcesContent":["'use strict';\n\nvar cid = require('multiformats/cid');\nvar dagPb = require('@ipld/dag-pb');\nvar sha2 = require('multiformats/hashes/sha2');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar dagPb__namespace = /*#__PURE__*/_interopNamespace(dagPb);\n\nconst persist = async (buffer, blockstore, options) => {\n  if (!options.codec) {\n    options.codec = dagPb__namespace;\n  }\n  if (!options.hasher) {\n    options.hasher = sha2.sha256;\n  }\n  if (options.cidVersion === undefined) {\n    options.cidVersion = 1;\n  }\n  if (options.codec === dagPb__namespace && options.hasher !== sha2.sha256) {\n    options.cidVersion = 1;\n  }\n  const multihash = await options.hasher.digest(buffer);\n  const cid$1 = cid.CID.create(options.cidVersion, options.codec.code, multihash);\n  if (!options.onlyHash) {\n    await blockstore.put(cid$1, buffer, { signal: options.signal });\n  }\n  return cid$1;\n};\n\nmodule.exports = persist;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AACrC,IAAIC,KAAK,GAAGD,OAAO,CAAC,cAAc,CAAC;AACnC,IAAIE,IAAI,GAAGF,OAAO,CAAC,0BAA0B,CAAC;AAE9C,SAASG,iBAAiBA,CAACC,CAAC,EAAE;EAC5B,IAAIA,CAAC,IAAIA,CAAC,CAACC,UAAU,EAAE,OAAOD,CAAC;EAC/B,IAAIE,CAAC,GAAGC,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;EAC3B,IAAIJ,CAAC,EAAE;IACLG,MAAM,CAACE,IAAI,CAACL,CAAC,CAAC,CAACM,OAAO,CAAC,UAAUC,CAAC,EAAE;MAClC,IAAIA,CAAC,KAAK,SAAS,EAAE;QACnB,IAAIC,CAAC,GAAGL,MAAM,CAACM,wBAAwB,CAACT,CAAC,EAAEO,CAAC,CAAC;QAC7CJ,MAAM,CAACO,cAAc,CAACR,CAAC,EAAEK,CAAC,EAAEC,CAAC,CAACG,GAAG,GAAGH,CAAC,GAAG;UACtCI,UAAU,EAAE,IAAI;UAChBD,GAAG,EAAE,SAAAA,CAAA,EAAY;YAAE,OAAOX,CAAC,CAACO,CAAC,CAAC;UAAE;QAClC,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EACAL,CAAC,CAAC,SAAS,CAAC,GAAGF,CAAC;EAChB,OAAOG,MAAM,CAACU,MAAM,CAACX,CAAC,CAAC;AACzB;AAEA,IAAIY,gBAAgB,GAAG,aAAaf,iBAAiB,CAACF,KAAK,CAAC;AAE5D,MAAMkB,OAAO,GAAG,MAAAA,CAAOC,MAAM,EAAEC,UAAU,EAAEC,OAAO,KAAK;EACrD,IAAI,CAACA,OAAO,CAACC,KAAK,EAAE;IAClBD,OAAO,CAACC,KAAK,GAAGL,gBAAgB;EAClC;EACA,IAAI,CAACI,OAAO,CAACE,MAAM,EAAE;IACnBF,OAAO,CAACE,MAAM,GAAGtB,IAAI,CAACuB,MAAM;EAC9B;EACA,IAAIH,OAAO,CAACI,UAAU,KAAKC,SAAS,EAAE;IACpCL,OAAO,CAACI,UAAU,GAAG,CAAC;EACxB;EACA,IAAIJ,OAAO,CAACC,KAAK,KAAKL,gBAAgB,IAAII,OAAO,CAACE,MAAM,KAAKtB,IAAI,CAACuB,MAAM,EAAE;IACxEH,OAAO,CAACI,UAAU,GAAG,CAAC;EACxB;EACA,MAAME,SAAS,GAAG,MAAMN,OAAO,CAACE,MAAM,CAACK,MAAM,CAACT,MAAM,CAAC;EACrD,MAAMU,KAAK,GAAG/B,GAAG,CAACgC,GAAG,CAACvB,MAAM,CAACc,OAAO,CAACI,UAAU,EAAEJ,OAAO,CAACC,KAAK,CAACS,IAAI,EAAEJ,SAAS,CAAC;EAC/E,IAAI,CAACN,OAAO,CAACW,QAAQ,EAAE;IACrB,MAAMZ,UAAU,CAACa,GAAG,CAACJ,KAAK,EAAEV,MAAM,EAAE;MAAEe,MAAM,EAAEb,OAAO,CAACa;IAAO,CAAC,CAAC;EACjE;EACA,OAAOL,KAAK;AACd,CAAC;AAEDM,MAAM,CAACC,OAAO,GAAGlB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}