{"ast":null,"code":"var _jsxFileName = \"C:\\\\FACULTATE\\\\Proiect\\\\front-end\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport tokenAbi from \"./RealEstateToken.json\";\nimport marketplaceAbi from \"./RealEstateMarketplace.json\";\nimport Login from './Login'; // Import the Login component\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RealEstateTokenInteraction() {\n  _s();\n  const [tokenId, setTokenId] = useState('');\n  const [accountAddress, setAccountAddress] = useState('');\n  const [accountBalance, setAccountBalance] = useState('');\n  const [pay, setPay] = useState('');\n  const [tokenId1, setTokenId1] = useState('');\n  const [location, setLocation] = useState('');\n  const [price, setPrice] = useState('');\n  const [provider] = useState(new ethers.providers.JsonRpcProvider(\"http://localhost:8545\"));\n  const [signerIndex, setSignerIndex] = useState(null); // Use more descriptive state variable name\n\n  const [tokenContract, setTokenContract] = useState(null);\n  const [marketplaceContract, setMarketplaceContract] = useState(null);\n  const [accountData, setAccountData] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // Add state for login status\n  const [userTokens, setUserTokens] = useState([]); // Add state for user's tokens\n\n  useEffect(() => {\n    async function fetchAccountData() {\n      try {\n        const accounts = await provider.listAccounts();\n        setAccountData(accounts);\n      } catch (error) {\n        console.error('Error fetching account data:', error);\n      }\n    }\n    fetchAccountData();\n  }, [provider]);\n  useEffect(() => {\n    if (signerIndex !== null) {\n      const signer = provider.getSigner(signerIndex);\n      if (!tokenContract) {\n        const tokenAddress = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\";\n        const token = new ethers.Contract(tokenAddress, tokenAbi.abi, signer);\n        setTokenContract(token);\n      }\n      if (!marketplaceContract) {\n        const marketplaceAddress = \"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\";\n        const marketplace = new ethers.Contract(marketplaceAddress, marketplaceAbi.abi, signer);\n        setMarketplaceContract(marketplace);\n      }\n    }\n  }, [signerIndex, provider, tokenContract, marketplaceContract]);\n  async function issueToken() {\n    try {\n      if (tokenContract) {\n        const issueTx = await tokenContract.issueToken(parseInt(tokenId), location, ethers.utils.parseEther(price));\n        await issueTx.wait();\n        console.log(\"Token Issued Successfully!\");\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n  async function handleLogin(address) {\n    try {\n      setIsLoggedIn(true);\n      setAccountAddress(address);\n      const balance = await provider.getBalance(address);\n      setAccountBalance(ethers.utils.formatEther(balance));\n      const index = accountData.indexOf(address);\n      setSignerIndex(index);\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  }\n  async function buyToken() {\n    try {\n      if (marketplaceContract) {\n        const payValue = ethers.utils.parseEther(pay);\n        const buyTx = await marketplaceContract.buyToken(parseInt(tokenId1), {\n          value: payValue\n        });\n        await buyTx.wait();\n        console.log(\"Token bought successfully!\");\n        const updatedBalance = await provider.getBalance(accountAddress);\n        setAccountBalance(ethers.utils.formatEther(updatedBalance));\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n  async function fetchUserTokens() {\n    try {\n      if (tokenContract) {\n        const tokens = await tokenContract.viewAllTokens();\n        console.log(accountAddress);\n        const aux = [];\n        for (const token of tokens) {\n          const ck = await tokenContract.isTokenOwner(accountAddress, token.owner);\n          if (ck) {\n            aux.push(token);\n          }\n        }\n        const filteredTokens = aux.map(token => ({\n          id: token.id.toNumber(),\n          location: token.location,\n          price: ethers.utils.formatEther(token.price),\n          owner: token.owner\n        }));\n        setUserTokens(filteredTokens);\n      }\n    } catch (error) {\n      console.error('Error fetching user tokens:', error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isLoggedIn ? /*#__PURE__*/_jsxDEV(Login, {\n      accountData: accountData,\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Real Estate Token Interaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Connected Account Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Address: \", accountAddress]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Balance: \", accountBalance, \" ETH\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Issue New Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Token ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: tokenId,\n        onChange: e => setTokenId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 105\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Location:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: location,\n        onChange: e => setLocation(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 105\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price (ETH):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: price,\n        onChange: e => setPrice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 101\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: issueToken,\n        children: \"Issue Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Buy Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Token ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: tokenId1,\n        onChange: e => setTokenId1(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 107\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"How much will you pay:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: pay,\n        onChange: e => setPay(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 95\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: buyToken,\n        children: \"Buy Token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Tokens\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchUserTokens,\n        children: \"Show My Tokens\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: userTokens.map(token => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Token ID: \", token.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Location: \", token.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Price: \", token.price, \" ETH\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 33\n          }, this)]\n        }, token.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 9\n  }, this);\n}\n_s(RealEstateTokenInteraction, \"d9zbvbK+6HPWfdB29PTN/RV0lbg=\");\n_c = RealEstateTokenInteraction;\nexport default RealEstateTokenInteraction;\nvar _c;\n$RefreshReg$(_c, \"RealEstateTokenInteraction\");","map":{"version":3,"names":["React","useEffect","useState","ethers","tokenAbi","marketplaceAbi","Login","jsxDEV","_jsxDEV","RealEstateTokenInteraction","_s","tokenId","setTokenId","accountAddress","setAccountAddress","accountBalance","setAccountBalance","pay","setPay","tokenId1","setTokenId1","location","setLocation","price","setPrice","provider","providers","JsonRpcProvider","signerIndex","setSignerIndex","tokenContract","setTokenContract","marketplaceContract","setMarketplaceContract","accountData","setAccountData","isLoggedIn","setIsLoggedIn","userTokens","setUserTokens","fetchAccountData","accounts","listAccounts","error","console","signer","getSigner","tokenAddress","token","Contract","abi","marketplaceAddress","marketplace","issueToken","issueTx","parseInt","utils","parseEther","wait","log","handleLogin","address","balance","getBalance","formatEther","index","indexOf","buyToken","payValue","buyTx","value","updatedBalance","fetchUserTokens","tokens","viewAllTokens","aux","ck","isTokenOwner","owner","push","filteredTokens","map","id","toNumber","children","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/FACULTATE/Proiect/front-end/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { ethers } from 'ethers';\r\nimport tokenAbi from \"./RealEstateToken.json\";\r\nimport marketplaceAbi from \"./RealEstateMarketplace.json\";\r\nimport Login from './Login'; // Import the Login component\r\nimport './App.css';\r\n\r\nfunction RealEstateTokenInteraction() {\r\n    const [tokenId, setTokenId] = useState('');\r\n    const [accountAddress, setAccountAddress] = useState('');\r\n    const [accountBalance, setAccountBalance] = useState('');\r\n    const [pay, setPay] = useState('');\r\n    const [tokenId1, setTokenId1] = useState('');\r\n    const [location, setLocation] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [provider] = useState(new ethers.providers.JsonRpcProvider(\"http://localhost:8545\"));\r\n    const [signerIndex, setSignerIndex] = useState(null); // Use more descriptive state variable name\r\n\r\n    const [tokenContract, setTokenContract] = useState(null);\r\n    const [marketplaceContract, setMarketplaceContract] = useState(null);\r\n    const [accountData, setAccountData] = useState([]);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false); // Add state for login status\r\n    const [userTokens, setUserTokens] = useState([]); // Add state for user's tokens\r\n\r\n    useEffect(() => {\r\n        async function fetchAccountData() {\r\n            try {\r\n                const accounts = await provider.listAccounts();\r\n                setAccountData(accounts);\r\n            } catch (error) {\r\n                console.error('Error fetching account data:', error);\r\n            }\r\n        }\r\n\r\n        fetchAccountData();\r\n    }, [provider]);\r\n\r\n    useEffect(() => {\r\n        if (signerIndex !== null) {\r\n            const signer = provider.getSigner(signerIndex);\r\n\r\n            if (!tokenContract) {\r\n                const tokenAddress = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\";\r\n                const token = new ethers.Contract(tokenAddress, tokenAbi.abi, signer);\r\n                setTokenContract(token);\r\n            }\r\n\r\n            if (!marketplaceContract) {\r\n                const marketplaceAddress = \"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\";\r\n                const marketplace = new ethers.Contract(marketplaceAddress, marketplaceAbi.abi, signer);\r\n                setMarketplaceContract(marketplace);\r\n            }\r\n        }\r\n    }, [signerIndex, provider, tokenContract, marketplaceContract]);\r\n\r\n    async function issueToken() {\r\n        try {\r\n            if (tokenContract) {\r\n                const issueTx = await tokenContract.issueToken(parseInt(tokenId), location, ethers.utils.parseEther(price));\r\n                await issueTx.wait();\r\n                console.log(\"Token Issued Successfully!\");\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    }\r\n\r\n    async function handleLogin(address) {\r\n        try {\r\n            setIsLoggedIn(true);\r\n            setAccountAddress(address);\r\n            const balance = await provider.getBalance(address);\r\n            setAccountBalance(ethers.utils.formatEther(balance));\r\n            const index = accountData.indexOf(address);\r\n            setSignerIndex(index);\r\n        } catch (error) {\r\n            console.error('Error during login:', error);\r\n        }\r\n    }\r\n\r\n    async function buyToken() {\r\n        try {\r\n            if (marketplaceContract) {\r\n                const payValue = ethers.utils.parseEther(pay);\r\n                const buyTx = await marketplaceContract.buyToken(parseInt(tokenId1), { value: payValue });\r\n                await buyTx.wait();\r\n                console.log(\"Token bought successfully!\");\r\n\r\n                const updatedBalance = await provider.getBalance(accountAddress);\r\n                setAccountBalance(ethers.utils.formatEther(updatedBalance));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    }\r\n\r\n    async function fetchUserTokens() {\r\n        try {\r\n            if (tokenContract) {\r\n                const tokens = await tokenContract.viewAllTokens();\r\n                console.log(accountAddress);\r\n                const aux = [];\r\n                for (const token of tokens) {\r\n                    const ck = await tokenContract.isTokenOwner(accountAddress, token.owner);\r\n                    if (ck) {\r\n                        aux.push(token);\r\n                    }\r\n                }\r\n                const filteredTokens=aux.map(token => ({\r\n                        id: token.id.toNumber(),\r\n                        location: token.location,\r\n                        price: ethers.utils.formatEther(token.price),\r\n                        owner: token.owner\r\n                    }));\r\n\r\n                setUserTokens(filteredTokens);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching user tokens:', error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!isLoggedIn ? (\r\n                <Login accountData={accountData} onLogin={handleLogin} />\r\n            ) : (\r\n                <div>\r\n                    <h1>Real Estate Token Interaction</h1>\r\n\r\n                    <div>\r\n                        <h2>Connected Account Information</h2>\r\n                        <p>Address: {accountAddress}</p>\r\n                        <p>Balance: {accountBalance} ETH</p>\r\n                    </div>\r\n\r\n                    <h2>Issue New Token</h2>\r\n                    <label>Token ID:</label>\r\n                    <input type=\"number\" value={tokenId} onChange={(e) => setTokenId(e.target.value)} /><br />\r\n                    <label>Location:</label>\r\n                    <input type=\"text\" value={location} onChange={(e) => setLocation(e.target.value)} /><br />\r\n                    <label>Price (ETH):</label>\r\n                    <input type=\"number\" value={price} onChange={(e) => setPrice(e.target.value)} /><br />\r\n                    <button onClick={issueToken}>Issue Token</button>\r\n\r\n                    <hr />\r\n\r\n                    <h2>Buy Token</h2>\r\n                    <label>Token ID:</label>\r\n                    <input type=\"number\" value={tokenId1} onChange={(e) => setTokenId1(e.target.value)} /><br />\r\n                    <label>How much will you pay:</label>\r\n                    <input type=\"text\" value={pay} onChange={(e) => setPay(e.target.value)} /><br />\r\n                    <button onClick={buyToken}>Buy Token</button>\r\n\r\n                    <hr />\r\n\r\n                    <h2>Your Tokens</h2>\r\n                    <button onClick={fetchUserTokens}>Show My Tokens</button>\r\n                    <ul>\r\n                        {userTokens.map((token) => (\r\n                            <li key={token.id}>\r\n                                <p>Token ID: {token.id}</p>\r\n                                <p>Location: {token.location}</p>\r\n                                <p>Price: {token.price} ETH</p>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RealEstateTokenInteraction;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}