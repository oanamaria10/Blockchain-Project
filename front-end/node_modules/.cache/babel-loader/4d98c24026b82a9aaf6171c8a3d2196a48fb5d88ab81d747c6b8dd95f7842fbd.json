{"ast":null,"code":"import { Index } from '@web3-storage/upload-client';\nimport { Index as IndexCapabilities } from '@web3-storage/capabilities';\nimport { Base } from '../base.js';\n/**\n * Client for interacting with the `index/*` capabilities.\n */\nexport class IndexClient extends Base {\n  /**\n   * Register an \"index\" to the resource.\n   *\n   * Required delegated capabilities:\n   * - `space/index/add`\n   *\n   * @param {import('../types.js').CARLink} index - CID of the CAR file that contains the index data.\n   * @param {import('../types.js').RequestOptions} [options]\n   */\n  async add(index, options = {}) {\n    const conf = await this._invocationConfig([IndexCapabilities.add.can]);\n    options.connection = this._serviceConf.upload;\n    return Index.add(conf, index, options);\n  }\n}","map":{"version":3,"names":["Index","IndexCapabilities","Base","IndexClient","add","index","options","conf","_invocationConfig","can","connection","_serviceConf","upload"],"sources":["../../../src/capability/index.js"],"sourcesContent":[null],"mappings":"AAAA,SAASA,KAAK,QAAQ,6BAA6B;AACnD,SAASA,KAAK,IAAIC,iBAAiB,QAAQ,4BAA4B;AACvE,SAASC,IAAI,QAAQ,YAAY;AAEjC;;;AAGA,OAAM,MAAOC,WAAY,SAAQD,IAAI;EACnC;;;;;;;;;EASA,MAAME,GAAGA,CAACC,KAAK,EAAEC,OAAO,GAAG,EAAE;IAC3B,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAACP,iBAAiB,CAACG,GAAG,CAACK,GAAG,CAAC,CAAC;IACtEH,OAAO,CAACI,UAAU,GAAG,IAAI,CAACC,YAAY,CAACC,MAAM;IAC7C,OAAOZ,KAAK,CAACI,GAAG,CAACG,IAAI,EAAEF,KAAK,EAAEC,OAAO,CAAC;EACxC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}