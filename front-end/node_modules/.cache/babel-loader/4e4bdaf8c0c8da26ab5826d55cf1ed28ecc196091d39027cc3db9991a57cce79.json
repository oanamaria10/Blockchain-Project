{"ast":null,"code":"import { Store } from '@web3-storage/upload-client';\nimport { Store as StoreCapabilities } from '@web3-storage/capabilities';\nimport { Base } from '../base.js';\n/**\n * Client for interacting with the `store/*` capabilities.\n */\nexport class StoreClient extends Base {\n  /**\n   * Store a DAG encoded as a CAR file.\n   *\n   * Required delegated capabilities:\n   * - `store/add`\n   *\n   * @deprecated Use `client.capability.blob.add()` instead.\n   * @param {Blob} car - CAR file data.\n   * @param {import('../types.js').RequestOptions} [options]\n   */\n  async add(car, options = {}) {\n    const conf = await this._invocationConfig([StoreCapabilities.add.can]);\n    options.connection = this._serviceConf.upload;\n    return Store.add(conf, car, options);\n  }\n  /**\n   * Get details of a stored item.\n   *\n   * Required delegated capabilities:\n   * - `store/get`\n   *\n   * @deprecated Use `client.capability.blob.get()` instead.\n   * @param {import('../types.js').CARLink} link - Root data CID for the DAG that was stored.\n   * @param {import('../types.js').RequestOptions} [options]\n   */\n  async get(link, options = {}) {\n    const conf = await this._invocationConfig([StoreCapabilities.get.can]);\n    options.connection = this._serviceConf.upload;\n    return Store.get(conf, link, options);\n  }\n  /**\n   * List CAR files stored to the resource.\n   *\n   * Required delegated capabilities:\n   * - `store/list`\n   *\n   * @deprecated Use `client.capability.blob.list()` instead.\n   * @param {import('../types.js').ListRequestOptions} [options]\n   */\n  async list(options = {}) {\n    const conf = await this._invocationConfig([StoreCapabilities.list.can]);\n    options.connection = this._serviceConf.upload;\n    return Store.list(conf, options);\n  }\n  /**\n   * Remove a stored CAR file by CAR CID.\n   *\n   * Required delegated capabilities:\n   * - `store/remove`\n   *\n   * @deprecated Use `client.capability.blob.remove()` instead.\n   * @param {import('../types.js').CARLink} link - CID of CAR file to remove.\n   * @param {import('../types.js').RequestOptions} [options]\n   */\n  async remove(link, options = {}) {\n    const conf = await this._invocationConfig([StoreCapabilities.remove.can]);\n    options.connection = this._serviceConf.upload;\n    return Store.remove(conf, link, options);\n  }\n}","map":{"version":3,"names":["Store","StoreCapabilities","Base","StoreClient","add","car","options","conf","_invocationConfig","can","connection","_serviceConf","upload","get","link","list","remove"],"sources":["../../../src/capability/store.js"],"sourcesContent":[null],"mappings":"AAAA,SAASA,KAAK,QAAQ,6BAA6B;AACnD,SAASA,KAAK,IAAIC,iBAAiB,QAAQ,4BAA4B;AACvE,SAASC,IAAI,QAAQ,YAAY;AAEjC;;;AAGA,OAAM,MAAOC,WAAY,SAAQD,IAAI;EACnC;;;;;;;;;;EAUA,MAAME,GAAGA,CAACC,GAAG,EAAEC,OAAO,GAAG,EAAE;IACzB,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAACP,iBAAiB,CAACG,GAAG,CAACK,GAAG,CAAC,CAAC;IACtEH,OAAO,CAACI,UAAU,GAAG,IAAI,CAACC,YAAY,CAACC,MAAM;IAC7C,OAAOZ,KAAK,CAACI,GAAG,CAACG,IAAI,EAAEF,GAAG,EAAEC,OAAO,CAAC;EACtC;EAEA;;;;;;;;;;EAUA,MAAMO,GAAGA,CAACC,IAAI,EAAER,OAAO,GAAG,EAAE;IAC1B,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAACP,iBAAiB,CAACY,GAAG,CAACJ,GAAG,CAAC,CAAC;IACtEH,OAAO,CAACI,UAAU,GAAG,IAAI,CAACC,YAAY,CAACC,MAAM;IAC7C,OAAOZ,KAAK,CAACa,GAAG,CAACN,IAAI,EAAEO,IAAI,EAAER,OAAO,CAAC;EACvC;EAEA;;;;;;;;;EASA,MAAMS,IAAIA,CAACT,OAAO,GAAG,EAAE;IACrB,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAACP,iBAAiB,CAACc,IAAI,CAACN,GAAG,CAAC,CAAC;IACvEH,OAAO,CAACI,UAAU,GAAG,IAAI,CAACC,YAAY,CAACC,MAAM;IAC7C,OAAOZ,KAAK,CAACe,IAAI,CAACR,IAAI,EAAED,OAAO,CAAC;EAClC;EAEA;;;;;;;;;;EAUA,MAAMU,MAAMA,CAACF,IAAI,EAAER,OAAO,GAAG,EAAE;IAC7B,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAACP,iBAAiB,CAACe,MAAM,CAACP,GAAG,CAAC,CAAC;IACzEH,OAAO,CAACI,UAAU,GAAG,IAAI,CAACC,YAAY,CAACC,MAAM;IAC7C,OAAOZ,KAAK,CAACgB,MAAM,CAACT,IAAI,EAAEO,IAAI,EAAER,OAAO,CAAC;EAC1C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}