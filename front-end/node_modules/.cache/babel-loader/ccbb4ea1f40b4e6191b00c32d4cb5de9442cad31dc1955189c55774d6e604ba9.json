{"ast":null,"code":"var _jsxFileName = \"C:\\\\FACULTATE\\\\Proiect\\\\front-end\\\\src\\\\uploadFile.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Web3Storage } from \"web3.storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FileUpload({\n  onUpload\n}) {\n  _s();\n  const [image, setImage] = useState(null);\n  const [file, setFile] = useState(null);\n  const [link, setLink] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadedCIDs, setUploadedCIDs] = useState({\n    imageCID: '',\n    fileCID: '',\n    link: ''\n  });\n  const client = new Web3Storage({\n    token: '<YOUR_WEB3_STORAGE_API_KEY>'\n  });\n  async function handleFileUpload() {\n    if (!image && !file && !link) {\n      alert(\"Please provide an image, a file, or a link to upload!\");\n      return;\n    }\n    setIsUploading(true);\n    try {\n      const uploadedCIDs = {};\n\n      // Upload image\n      if (image) {\n        const imageCID = await client.put([image]);\n        console.log(\"Image uploaded to IPFS with CID:\", imageCID);\n        uploadedCIDs.imageCID = imageCID;\n      }\n\n      // Upload file\n      if (file) {\n        const fileCID = await client.put([file]);\n        console.log(\"File uploaded to IPFS with CID:\", fileCID);\n        uploadedCIDs.fileCID = fileCID;\n      }\n\n      // Handle link (store it directly or send it to your smart contract)\n      if (link) {\n        console.log(\"Link provided:\", link);\n        uploadedCIDs.link = link; // Storing the link directly\n      }\n      setUploadedCIDs(uploadedCIDs);\n      setIsUploading(false);\n      if (onUpload) {\n        onUpload(uploadedCIDs); // Pass uploaded CIDs and link to parent component or smart contract\n      }\n      alert(\"Uploads completed successfully!\");\n    } catch (error) {\n      console.error(\"Error uploading files:\", error);\n      alert(\"Failed to upload files. Please try again.\");\n      setIsUploading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload Image, File, and Link\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Upload Image:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: e => setImage(e.target.files[0]),\n        disabled: isUploading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Upload File:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => setFile(e.target.files[0]),\n        disabled: isUploading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Enter Link:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: link,\n        onChange: e => setLink(e.target.value),\n        placeholder: \"Enter a valid URL\",\n        disabled: isUploading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleFileUpload,\n      disabled: isUploading,\n      children: isUploading ? \"Uploading...\" : \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), uploadedCIDs.imageCID && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Image CID: \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `https://ipfs.io/ipfs/${uploadedCIDs.imageCID}`,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: uploadedCIDs.imageCID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 47\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }, this), uploadedCIDs.fileCID && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"File CID: \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `https://ipfs.io/ipfs/${uploadedCIDs.fileCID}`,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: uploadedCIDs.fileCID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 32\n    }, this), uploadedCIDs.link && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Link: \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: uploadedCIDs.link,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: uploadedCIDs.link\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(FileUpload, \"zppYQShZ6DjMvtCyjyokFA/uU0Q=\");\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useState","Web3Storage","jsxDEV","_jsxDEV","FileUpload","onUpload","_s","image","setImage","file","setFile","link","setLink","isUploading","setIsUploading","uploadedCIDs","setUploadedCIDs","imageCID","fileCID","client","token","handleFileUpload","alert","put","console","log","error","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","e","target","files","disabled","value","placeholder","onClick","href","rel","_c","$RefreshReg$"],"sources":["C:/FACULTATE/Proiect/front-end/src/uploadFile.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Web3Storage } from \"web3.storage\";\r\n\r\nfunction FileUpload({ onUpload }) {\r\n  const [image, setImage] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [link, setLink] = useState('');\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadedCIDs, setUploadedCIDs] = useState({ imageCID: '', fileCID: '', link: '' });\r\n\r\n  const client = new Web3Storage({ token: '<YOUR_WEB3_STORAGE_API_KEY>' });\r\n\r\n  async function handleFileUpload() {\r\n    if (!image && !file && !link) {\r\n      alert(\"Please provide an image, a file, or a link to upload!\");\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n\r\n    try {\r\n      const uploadedCIDs = {};\r\n\r\n      // Upload image\r\n      if (image) {\r\n        const imageCID = await client.put([image]);\r\n        console.log(\"Image uploaded to IPFS with CID:\", imageCID);\r\n        uploadedCIDs.imageCID = imageCID;\r\n      }\r\n\r\n      // Upload file\r\n      if (file) {\r\n        const fileCID = await client.put([file]);\r\n        console.log(\"File uploaded to IPFS with CID:\", fileCID);\r\n        uploadedCIDs.fileCID = fileCID;\r\n      }\r\n\r\n      // Handle link (store it directly or send it to your smart contract)\r\n      if (link) {\r\n        console.log(\"Link provided:\", link);\r\n        uploadedCIDs.link = link; // Storing the link directly\r\n      }\r\n\r\n      setUploadedCIDs(uploadedCIDs);\r\n      setIsUploading(false);\r\n\r\n      if (onUpload) {\r\n        onUpload(uploadedCIDs); // Pass uploaded CIDs and link to parent component or smart contract\r\n      }\r\n\r\n      alert(\"Uploads completed successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error uploading files:\", error);\r\n      alert(\"Failed to upload files. Please try again.\");\r\n      setIsUploading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Upload Image, File, and Link</h2>\r\n\r\n      <div>\r\n        <label>Upload Image:</label>\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={(e) => setImage(e.target.files[0])}\r\n          disabled={isUploading}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label>Upload File:</label>\r\n        <input\r\n          type=\"file\"\r\n          onChange={(e) => setFile(e.target.files[0])}\r\n          disabled={isUploading}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label>Enter Link:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={link}\r\n          onChange={(e) => setLink(e.target.value)}\r\n          placeholder=\"Enter a valid URL\"\r\n          disabled={isUploading}\r\n        />\r\n      </div>\r\n\r\n      <button onClick={handleFileUpload} disabled={isUploading}>\r\n        {isUploading ? \"Uploading...\" : \"Upload\"}\r\n      </button>\r\n\r\n      {uploadedCIDs.imageCID && <p>Image CID: <a href={`https://ipfs.io/ipfs/${uploadedCIDs.imageCID}`} target=\"_blank\" rel=\"noopener noreferrer\">{uploadedCIDs.imageCID}</a></p>}\r\n      {uploadedCIDs.fileCID && <p>File CID: <a href={`https://ipfs.io/ipfs/${uploadedCIDs.fileCID}`} target=\"_blank\" rel=\"noopener noreferrer\">{uploadedCIDs.fileCID}</a></p>}\r\n      {uploadedCIDs.link && <p>Link: <a href={uploadedCIDs.link} target=\"_blank\" rel=\"noopener noreferrer\">{uploadedCIDs.link}</a></p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FileUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}