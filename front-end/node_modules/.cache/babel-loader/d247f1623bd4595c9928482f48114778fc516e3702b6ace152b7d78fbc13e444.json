{"ast":null,"code":"import { Storefront } from '@web3-storage/filecoin-client';\nimport { Filecoin as FilecoinCapabilities } from '@web3-storage/capabilities';\nimport { Base } from '../base.js';\n/**\n * Client for interacting with the `filecoin/*` capabilities.\n */\nexport class FilecoinClient extends Base {\n  /**\n   * Offer a Filecoin \"piece\" to the resource.\n   *\n   * Required delegated capabilities:\n   * - `filecoin/offer`\n   *\n   * @param {import('multiformats').UnknownLink} content\n   * @param {import('@web3-storage/capabilities/types').PieceLink} piece\n   * @param {object} [options]\n   * @param {string} [options.nonce]\n   */\n  async offer(content, piece, options) {\n    const conf = await this._invocationConfig([FilecoinCapabilities.offer.can]);\n    return Storefront.filecoinOffer(conf, content, piece, {\n      ...options,\n      connection: this._serviceConf.filecoin\n    });\n  }\n  /**\n   * Request info about a content piece in Filecoin deals\n   *\n   * Required delegated capabilities:\n   * - `filecoin/info`\n   *\n   * @param {import('@web3-storage/capabilities/types').PieceLink} piece\n   * @param {object} [options]\n   * @param {string} [options.nonce]\n   */\n  async info(piece, options) {\n    const conf = await this._invocationConfig([FilecoinCapabilities.info.can]);\n    return Storefront.filecoinInfo(conf, piece, {\n      ...options,\n      connection: this._serviceConf.filecoin\n    });\n  }\n}","map":{"version":3,"names":["Storefront","Filecoin","FilecoinCapabilities","Base","FilecoinClient","offer","content","piece","options","conf","_invocationConfig","can","filecoinOffer","connection","_serviceConf","filecoin","info","filecoinInfo"],"sources":["../../../src/capability/filecoin.js"],"sourcesContent":[null],"mappings":"AAAA,SAASA,UAAU,QAAQ,+BAA+B;AAC1D,SAASC,QAAQ,IAAIC,oBAAoB,QAAQ,4BAA4B;AAC7E,SAASC,IAAI,QAAQ,YAAY;AAEjC;;;AAGA,OAAM,MAAOC,cAAe,SAAQD,IAAI;EACtC;;;;;;;;;;;EAWA,MAAME,KAAKA,CAACC,OAAO,EAAEC,KAAK,EAAEC,OAAO;IACjC,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAACR,oBAAoB,CAACG,KAAK,CAACM,GAAG,CAAC,CAAC;IAC3E,OAAOX,UAAU,CAACY,aAAa,CAACH,IAAI,EAAEH,OAAO,EAAEC,KAAK,EAAE;MACpD,GAAGC,OAAO;MACVK,UAAU,EAAE,IAAI,CAACC,YAAY,CAACC;KAC/B,CAAC;EACJ;EAEA;;;;;;;;;;EAUA,MAAMC,IAAIA,CAACT,KAAK,EAAEC,OAAO;IACvB,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAACR,oBAAoB,CAACc,IAAI,CAACL,GAAG,CAAC,CAAC;IAC1E,OAAOX,UAAU,CAACiB,YAAY,CAACR,IAAI,EAAEF,KAAK,EAAE;MAC1C,GAAGC,OAAO;MACVK,UAAU,EAAE,IAAI,CAACC,YAAY,CAACC;KAC/B,CAAC;EACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}