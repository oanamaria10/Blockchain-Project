{"ast":null,"code":"'use strict';\n\n/**\n * @module Landing\n */\n/**\n * Module dependencies.\n */\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar constants = require('../runner').constants;\nvar EVENT_RUN_BEGIN = constants.EVENT_RUN_BEGIN;\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_TEST_END = constants.EVENT_TEST_END;\nvar STATE_FAILED = require('../runnable').constants.STATE_FAILED;\nvar cursor = Base.cursor;\nvar color = Base.color;\n\n/**\n * Expose `Landing`.\n */\n\nexports = module.exports = Landing;\n\n/**\n * Airplane color.\n */\n\nBase.colors.plane = 0;\n\n/**\n * Airplane crash color.\n */\n\nBase.colors['plane crash'] = 31;\n\n/**\n * Runway color.\n */\n\nBase.colors.runway = 90;\n\n/**\n * Constructs a new `Landing` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\nfunction Landing(runner, options) {\n  Base.call(this, runner, options);\n  var self = this;\n  var width = Base.window.width * 0.75 | 0;\n  var stream = process.stdout;\n  var plane = color('plane', '✈');\n  var crashed = -1;\n  var n = 0;\n  var total = 0;\n  function runway() {\n    var buf = Array(width).join('-');\n    return '  ' + color('runway', buf);\n  }\n  runner.on(EVENT_RUN_BEGIN, function () {\n    stream.write('\\n\\n\\n  ');\n    cursor.hide();\n  });\n  runner.on(EVENT_TEST_END, function (test) {\n    // check if the plane crashed\n    var col = crashed === -1 ? width * ++n / ++total | 0 : crashed;\n    // show the crash\n    if (test.state === STATE_FAILED) {\n      plane = color('plane crash', '✈');\n      crashed = col;\n    }\n\n    // render landing strip\n    stream.write('\\u001b[' + (width + 1) + 'D\\u001b[2A');\n    stream.write(runway());\n    stream.write('\\n  ');\n    stream.write(color('runway', Array(col).join('⋅')));\n    stream.write(plane);\n    stream.write(color('runway', Array(width - col).join('⋅') + '\\n'));\n    stream.write(runway());\n    stream.write('\\u001b[0m');\n  });\n  runner.once(EVENT_RUN_END, function () {\n    cursor.show();\n    process.stdout.write('\\n');\n    self.epilogue();\n  });\n\n  // if cursor is hidden when we ctrl-C, then it will remain hidden unless...\n  process.once('SIGINT', function () {\n    cursor.show();\n    process.nextTick(function () {\n      process.kill(process.pid, 'SIGINT');\n    });\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Landing, Base);\nLanding.description = 'Unicode landing strip';","map":{"version":3,"names":["Base","require","inherits","constants","EVENT_RUN_BEGIN","EVENT_RUN_END","EVENT_TEST_END","STATE_FAILED","cursor","color","exports","module","Landing","colors","plane","runway","runner","options","call","self","width","window","stream","process","stdout","crashed","n","total","buf","Array","join","on","write","hide","test","col","state","once","show","epilogue","nextTick","kill","pid","description"],"sources":["C:/Users/rares/Desktop/Blockchain/Proiect/node_modules/mocha/lib/reporters/landing.js"],"sourcesContent":["'use strict';\n/**\n * @module Landing\n */\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar constants = require('../runner').constants;\nvar EVENT_RUN_BEGIN = constants.EVENT_RUN_BEGIN;\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_TEST_END = constants.EVENT_TEST_END;\nvar STATE_FAILED = require('../runnable').constants.STATE_FAILED;\n\nvar cursor = Base.cursor;\nvar color = Base.color;\n\n/**\n * Expose `Landing`.\n */\n\nexports = module.exports = Landing;\n\n/**\n * Airplane color.\n */\n\nBase.colors.plane = 0;\n\n/**\n * Airplane crash color.\n */\n\nBase.colors['plane crash'] = 31;\n\n/**\n * Runway color.\n */\n\nBase.colors.runway = 90;\n\n/**\n * Constructs a new `Landing` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\nfunction Landing(runner, options) {\n  Base.call(this, runner, options);\n\n  var self = this;\n  var width = (Base.window.width * 0.75) | 0;\n  var stream = process.stdout;\n\n  var plane = color('plane', '✈');\n  var crashed = -1;\n  var n = 0;\n  var total = 0;\n\n  function runway() {\n    var buf = Array(width).join('-');\n    return '  ' + color('runway', buf);\n  }\n\n  runner.on(EVENT_RUN_BEGIN, function () {\n    stream.write('\\n\\n\\n  ');\n    cursor.hide();\n  });\n\n  runner.on(EVENT_TEST_END, function (test) {\n    // check if the plane crashed\n    var col = crashed === -1 ? ((width * ++n) / ++total) | 0 : crashed;\n    // show the crash\n    if (test.state === STATE_FAILED) {\n      plane = color('plane crash', '✈');\n      crashed = col;\n    }\n\n    // render landing strip\n    stream.write('\\u001b[' + (width + 1) + 'D\\u001b[2A');\n    stream.write(runway());\n    stream.write('\\n  ');\n    stream.write(color('runway', Array(col).join('⋅')));\n    stream.write(plane);\n    stream.write(color('runway', Array(width - col).join('⋅') + '\\n'));\n    stream.write(runway());\n    stream.write('\\u001b[0m');\n  });\n\n  runner.once(EVENT_RUN_END, function () {\n    cursor.show();\n    process.stdout.write('\\n');\n    self.epilogue();\n  });\n\n  // if cursor is hidden when we ctrl-C, then it will remain hidden unless...\n  process.once('SIGINT', function () {\n    cursor.show();\n    process.nextTick(function () {\n      process.kill(process.pid, 'SIGINT');\n    });\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Landing, Base);\n\nLanding.description = 'Unicode landing strip';\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}