{"ast":null,"code":"/**\n * Provider Capabilities\n *\n * These can be imported directly with:\n * ```js\n * import * as Provider from '@web3-storage/capabilities/provider'\n * ```\n *\n * @module\n */\nimport { capability, DID, struct, ok } from '@ucanto/validator';\nimport { AccountDID, equalWith, and, equal, SpaceDID } from './utils.js';\n\n// e.g. did:web:web3.storage or did:web:staging.web3.storage\nexport const Provider = DID.match({\n  method: 'web'\n});\nexport { AccountDID };\n\n/**\n * Capability can be invoked by an agent to add a provider to a space.\n */\nexport const add = capability({\n  can: 'provider/add',\n  with: AccountDID,\n  nb: struct({\n    provider: Provider,\n    consumer: SpaceDID\n  }),\n  derives: (child, parent) => {\n    return and(equalWith(child, parent)) || and(equal(child.nb.provider, parent.nb.provider, 'provider')) || and(equal(child.nb.consumer, parent.nb.consumer, 'consumer')) || ok({});\n  }\n});","map":{"version":3,"names":["capability","DID","struct","ok","AccountDID","equalWith","and","equal","SpaceDID","Provider","match","method","add","can","with","nb","provider","consumer","derives","child","parent"],"sources":["C:/FACULTATE/Proiect/node_modules/@web3-storage/capabilities/src/provider.js"],"sourcesContent":["/**\n * Provider Capabilities\n *\n * These can be imported directly with:\n * ```js\n * import * as Provider from '@web3-storage/capabilities/provider'\n * ```\n *\n * @module\n */\nimport { capability, DID, struct, ok } from '@ucanto/validator'\nimport { AccountDID, equalWith, and, equal, SpaceDID } from './utils.js'\n\n// e.g. did:web:web3.storage or did:web:staging.web3.storage\nexport const Provider = DID.match({ method: 'web' })\n\nexport { AccountDID }\n\n/**\n * Capability can be invoked by an agent to add a provider to a space.\n */\nexport const add = capability({\n  can: 'provider/add',\n  with: AccountDID,\n  nb: struct({\n    provider: Provider,\n    consumer: SpaceDID,\n  }),\n  derives: (child, parent) => {\n    return (\n      and(equalWith(child, parent)) ||\n      and(equal(child.nb.provider, parent.nb.provider, 'provider')) ||\n      and(equal(child.nb.consumer, parent.nb.consumer, 'consumer')) ||\n      ok({})\n    )\n  },\n})\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,UAAU,EAAEC,GAAG,EAAEC,MAAM,EAAEC,EAAE,QAAQ,mBAAmB;AAC/D,SAASC,UAAU,EAAEC,SAAS,EAAEC,GAAG,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,YAAY;;AAExE;AACA,OAAO,MAAMC,QAAQ,GAAGR,GAAG,CAACS,KAAK,CAAC;EAAEC,MAAM,EAAE;AAAM,CAAC,CAAC;AAEpD,SAASP,UAAU;;AAEnB;AACA;AACA;AACA,OAAO,MAAMQ,GAAG,GAAGZ,UAAU,CAAC;EAC5Ba,GAAG,EAAE,cAAc;EACnBC,IAAI,EAAEV,UAAU;EAChBW,EAAE,EAAEb,MAAM,CAAC;IACTc,QAAQ,EAAEP,QAAQ;IAClBQ,QAAQ,EAAET;EACZ,CAAC,CAAC;EACFU,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;IAC1B,OACEd,GAAG,CAACD,SAAS,CAACc,KAAK,EAAEC,MAAM,CAAC,CAAC,IAC7Bd,GAAG,CAACC,KAAK,CAACY,KAAK,CAACJ,EAAE,CAACC,QAAQ,EAAEI,MAAM,CAACL,EAAE,CAACC,QAAQ,EAAE,UAAU,CAAC,CAAC,IAC7DV,GAAG,CAACC,KAAK,CAACY,KAAK,CAACJ,EAAE,CAACE,QAAQ,EAAEG,MAAM,CAACL,EAAE,CAACE,QAAQ,EAAE,UAAU,CAAC,CAAC,IAC7Dd,EAAE,CAAC,CAAC,CAAC,CAAC;EAEV;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}