{"ast":null,"code":"import { capability, DID, struct, ok } from '@ucanto/validator';\nimport { AccountDID, equalWith, and, equal } from './utils.js';\n\n// e.g. did:web:web3.storage or did:web:staging.web3.storage\nexport const ProviderDID = DID.match({\n  method: 'web'\n});\n\n/**\n * Capability can be invoked by a provider to get information about the\n * customer.\n */\nexport const get = capability({\n  can: 'customer/get',\n  with: ProviderDID,\n  nb: struct({\n    customer: AccountDID\n  }),\n  derives: (child, parent) => {\n    return and(equalWith(child, parent)) || and(equal(child.nb.customer, parent.nb.customer, 'customer')) || ok({});\n  }\n});","map":{"version":3,"names":["capability","DID","struct","ok","AccountDID","equalWith","and","equal","ProviderDID","match","method","get","can","with","nb","customer","derives","child","parent"],"sources":["C:/FACULTATE/Proiect/node_modules/@web3-storage/capabilities/src/customer.js"],"sourcesContent":["import { capability, DID, struct, ok } from '@ucanto/validator'\nimport { AccountDID, equalWith, and, equal } from './utils.js'\n\n// e.g. did:web:web3.storage or did:web:staging.web3.storage\nexport const ProviderDID = DID.match({ method: 'web' })\n\n/**\n * Capability can be invoked by a provider to get information about the\n * customer.\n */\nexport const get = capability({\n  can: 'customer/get',\n  with: ProviderDID,\n  nb: struct({\n    customer: AccountDID,\n  }),\n  derives: (child, parent) => {\n    return (\n      and(equalWith(child, parent)) ||\n      and(equal(child.nb.customer, parent.nb.customer, 'customer')) ||\n      ok({})\n    )\n  },\n})\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,GAAG,EAAEC,MAAM,EAAEC,EAAE,QAAQ,mBAAmB;AAC/D,SAASC,UAAU,EAAEC,SAAS,EAAEC,GAAG,EAAEC,KAAK,QAAQ,YAAY;;AAE9D;AACA,OAAO,MAAMC,WAAW,GAAGP,GAAG,CAACQ,KAAK,CAAC;EAAEC,MAAM,EAAE;AAAM,CAAC,CAAC;;AAEvD;AACA;AACA;AACA;AACA,OAAO,MAAMC,GAAG,GAAGX,UAAU,CAAC;EAC5BY,GAAG,EAAE,cAAc;EACnBC,IAAI,EAAEL,WAAW;EACjBM,EAAE,EAAEZ,MAAM,CAAC;IACTa,QAAQ,EAAEX;EACZ,CAAC,CAAC;EACFY,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;IAC1B,OACEZ,GAAG,CAACD,SAAS,CAACY,KAAK,EAAEC,MAAM,CAAC,CAAC,IAC7BZ,GAAG,CAACC,KAAK,CAACU,KAAK,CAACH,EAAE,CAACC,QAAQ,EAAEG,MAAM,CAACJ,EAAE,CAACC,QAAQ,EAAE,UAAU,CAAC,CAAC,IAC7DZ,EAAE,CAAC,CAAC,CAAC,CAAC;EAEV;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}