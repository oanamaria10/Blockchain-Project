{"ast":null,"code":"'use strict';\n\nconst pTry = require('p-try');\nmodule.exports = concurrency => {\n  if (concurrency < 1) {\n    throw new TypeError('Expected `concurrency` to be a number from 1 and up');\n  }\n  const queue = [];\n  let activeCount = 0;\n  const next = () => {\n    activeCount--;\n    if (queue.length > 0) {\n      queue.shift()();\n    }\n  };\n  return fn => new Promise((resolve, reject) => {\n    const run = () => {\n      activeCount++;\n      pTry(fn).then(val => {\n        resolve(val);\n        next();\n      }, err => {\n        reject(err);\n        next();\n      });\n    };\n    if (activeCount < concurrency) {\n      run();\n    } else {\n      queue.push(run);\n    }\n  });\n};","map":{"version":3,"names":["pTry","require","module","exports","concurrency","TypeError","queue","activeCount","next","length","shift","fn","Promise","resolve","reject","run","then","val","err","push"],"sources":["C:/Users/rares/Desktop/Blockchain/Proiect/node_modules/p-limit/index.js"],"sourcesContent":["'use strict';\nconst pTry = require('p-try');\n\nmodule.exports = concurrency => {\n\tif (concurrency < 1) {\n\t\tthrow new TypeError('Expected `concurrency` to be a number from 1 and up');\n\t}\n\n\tconst queue = [];\n\tlet activeCount = 0;\n\n\tconst next = () => {\n\t\tactiveCount--;\n\n\t\tif (queue.length > 0) {\n\t\t\tqueue.shift()();\n\t\t}\n\t};\n\n\treturn fn => new Promise((resolve, reject) => {\n\t\tconst run = () => {\n\t\t\tactiveCount++;\n\n\t\t\tpTry(fn).then(\n\t\t\t\tval => {\n\t\t\t\t\tresolve(val);\n\t\t\t\t\tnext();\n\t\t\t\t},\n\t\t\t\terr => {\n\t\t\t\t\treject(err);\n\t\t\t\t\tnext();\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\n\t\tif (activeCount < concurrency) {\n\t\t\trun();\n\t\t} else {\n\t\t\tqueue.push(run);\n\t\t}\n\t});\n};\n"],"mappings":"AAAA,YAAY;;AACZ,MAAMA,IAAI,GAAGC,OAAO,CAAC,OAAO,CAAC;AAE7BC,MAAM,CAACC,OAAO,GAAGC,WAAW,IAAI;EAC/B,IAAIA,WAAW,GAAG,CAAC,EAAE;IACpB,MAAM,IAAIC,SAAS,CAAC,qDAAqD,CAAC;EAC3E;EAEA,MAAMC,KAAK,GAAG,EAAE;EAChB,IAAIC,WAAW,GAAG,CAAC;EAEnB,MAAMC,IAAI,GAAGA,CAAA,KAAM;IAClBD,WAAW,EAAE;IAEb,IAAID,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;MACrBH,KAAK,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC;IAChB;EACD,CAAC;EAED,OAAOC,EAAE,IAAI,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IAC7C,MAAMC,GAAG,GAAGA,CAAA,KAAM;MACjBR,WAAW,EAAE;MAEbP,IAAI,CAACW,EAAE,CAAC,CAACK,IAAI,CACZC,GAAG,IAAI;QACNJ,OAAO,CAACI,GAAG,CAAC;QACZT,IAAI,CAAC,CAAC;MACP,CAAC,EACDU,GAAG,IAAI;QACNJ,MAAM,CAACI,GAAG,CAAC;QACXV,IAAI,CAAC,CAAC;MACP,CACD,CAAC;IACF,CAAC;IAED,IAAID,WAAW,GAAGH,WAAW,EAAE;MAC9BW,GAAG,CAAC,CAAC;IACN,CAAC,MAAM;MACNT,KAAK,CAACa,IAAI,CAACJ,GAAG,CAAC;IAChB;EACD,CAAC,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}