{"ast":null,"code":"'use strict';\n\n/**\n * @module Markdown\n */\n/**\n * Module dependencies.\n */\nvar Base = require('./base');\nvar utils = require('../utils');\nvar constants = require('../runner').constants;\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_SUITE_BEGIN = constants.EVENT_SUITE_BEGIN;\nvar EVENT_SUITE_END = constants.EVENT_SUITE_END;\nvar EVENT_TEST_PASS = constants.EVENT_TEST_PASS;\n\n/**\n * Constants\n */\n\nvar SUITE_PREFIX = '$';\n\n/**\n * Expose `Markdown`.\n */\n\nexports = module.exports = Markdown;\n\n/**\n * Constructs a new `Markdown` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\nfunction Markdown(runner, options) {\n  Base.call(this, runner, options);\n  var level = 0;\n  var buf = '';\n  function title(str) {\n    return Array(level).join('#') + ' ' + str;\n  }\n  function mapTOC(suite, obj) {\n    var ret = obj;\n    var key = SUITE_PREFIX + suite.title;\n    obj = obj[key] = obj[key] || {\n      suite\n    };\n    suite.suites.forEach(function (suite) {\n      mapTOC(suite, obj);\n    });\n    return ret;\n  }\n  function stringifyTOC(obj, level) {\n    ++level;\n    var buf = '';\n    var link;\n    for (var key in obj) {\n      if (key === 'suite') {\n        continue;\n      }\n      if (key !== SUITE_PREFIX) {\n        link = ' - [' + key.substring(1) + ']';\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n        buf += Array(level).join('  ') + link;\n      }\n      buf += stringifyTOC(obj[key], level);\n    }\n    return buf;\n  }\n  function generateTOC(suite) {\n    var obj = mapTOC(suite, {});\n    return stringifyTOC(obj, 0);\n  }\n  generateTOC(runner.suite);\n  runner.on(EVENT_SUITE_BEGIN, function (suite) {\n    ++level;\n    var slug = utils.slug(suite.fullTitle());\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n    buf += title(suite.title) + '\\n';\n  });\n  runner.on(EVENT_SUITE_END, function () {\n    --level;\n  });\n  runner.on(EVENT_TEST_PASS, function (test) {\n    var code = utils.clean(test.body);\n    buf += test.title + '.\\n';\n    buf += '\\n```js\\n';\n    buf += code + '\\n';\n    buf += '```\\n\\n';\n  });\n  runner.once(EVENT_RUN_END, function () {\n    process.stdout.write('# TOC\\n');\n    process.stdout.write(generateTOC(runner.suite));\n    process.stdout.write(buf);\n  });\n}\nMarkdown.description = 'GitHub Flavored Markdown';","map":{"version":3,"names":["Base","require","utils","constants","EVENT_RUN_END","EVENT_SUITE_BEGIN","EVENT_SUITE_END","EVENT_TEST_PASS","SUITE_PREFIX","exports","module","Markdown","runner","options","call","level","buf","title","str","Array","join","mapTOC","suite","obj","ret","key","suites","forEach","stringifyTOC","link","substring","slug","fullTitle","generateTOC","on","test","code","clean","body","once","process","stdout","write","description"],"sources":["C:/Users/rares/Desktop/Blockchain/Proiect/node_modules/mocha/lib/reporters/markdown.js"],"sourcesContent":["'use strict';\n/**\n * @module Markdown\n */\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar utils = require('../utils');\nvar constants = require('../runner').constants;\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_SUITE_BEGIN = constants.EVENT_SUITE_BEGIN;\nvar EVENT_SUITE_END = constants.EVENT_SUITE_END;\nvar EVENT_TEST_PASS = constants.EVENT_TEST_PASS;\n\n/**\n * Constants\n */\n\nvar SUITE_PREFIX = '$';\n\n/**\n * Expose `Markdown`.\n */\n\nexports = module.exports = Markdown;\n\n/**\n * Constructs a new `Markdown` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\nfunction Markdown(runner, options) {\n  Base.call(this, runner, options);\n\n  var level = 0;\n  var buf = '';\n\n  function title(str) {\n    return Array(level).join('#') + ' ' + str;\n  }\n\n  function mapTOC(suite, obj) {\n    var ret = obj;\n    var key = SUITE_PREFIX + suite.title;\n\n    obj = obj[key] = obj[key] || {suite};\n    suite.suites.forEach(function (suite) {\n      mapTOC(suite, obj);\n    });\n\n    return ret;\n  }\n\n  function stringifyTOC(obj, level) {\n    ++level;\n    var buf = '';\n    var link;\n    for (var key in obj) {\n      if (key === 'suite') {\n        continue;\n      }\n      if (key !== SUITE_PREFIX) {\n        link = ' - [' + key.substring(1) + ']';\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n        buf += Array(level).join('  ') + link;\n      }\n      buf += stringifyTOC(obj[key], level);\n    }\n    return buf;\n  }\n\n  function generateTOC(suite) {\n    var obj = mapTOC(suite, {});\n    return stringifyTOC(obj, 0);\n  }\n\n  generateTOC(runner.suite);\n\n  runner.on(EVENT_SUITE_BEGIN, function (suite) {\n    ++level;\n    var slug = utils.slug(suite.fullTitle());\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n    buf += title(suite.title) + '\\n';\n  });\n\n  runner.on(EVENT_SUITE_END, function () {\n    --level;\n  });\n\n  runner.on(EVENT_TEST_PASS, function (test) {\n    var code = utils.clean(test.body);\n    buf += test.title + '.\\n';\n    buf += '\\n```js\\n';\n    buf += code + '\\n';\n    buf += '```\\n\\n';\n  });\n\n  runner.once(EVENT_RUN_END, function () {\n    process.stdout.write('# TOC\\n');\n    process.stdout.write(generateTOC(runner.suite));\n    process.stdout.write(buf);\n  });\n}\n\nMarkdown.description = 'GitHub Flavored Markdown';\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}