{"ast":null,"code":"const {\n  addAbortListener\n} = require('../core/util');\nconst {\n  RequestAbortedError\n} = require('../core/errors');\nconst kListener = Symbol('kListener');\nconst kSignal = Symbol('kSignal');\nfunction abort(self) {\n  if (self.abort) {\n    self.abort();\n  } else {\n    self.onError(new RequestAbortedError());\n  }\n}\nfunction addSignal(self, signal) {\n  self[kSignal] = null;\n  self[kListener] = null;\n  if (!signal) {\n    return;\n  }\n  if (signal.aborted) {\n    abort(self);\n    return;\n  }\n  self[kSignal] = signal;\n  self[kListener] = () => {\n    abort(self);\n  };\n  addAbortListener(self[kSignal], self[kListener]);\n}\nfunction removeSignal(self) {\n  if (!self[kSignal]) {\n    return;\n  }\n  if ('removeEventListener' in self[kSignal]) {\n    self[kSignal].removeEventListener('abort', self[kListener]);\n  } else {\n    self[kSignal].removeListener('abort', self[kListener]);\n  }\n  self[kSignal] = null;\n  self[kListener] = null;\n}\nmodule.exports = {\n  addSignal,\n  removeSignal\n};","map":{"version":3,"names":["addAbortListener","require","RequestAbortedError","kListener","Symbol","kSignal","abort","self","onError","addSignal","signal","aborted","removeSignal","removeEventListener","removeListener","module","exports"],"sources":["C:/Users/rares/Desktop/Blockchain/Proiect/node_modules/undici/lib/api/abort-signal.js"],"sourcesContent":["const { addAbortListener } = require('../core/util')\nconst { RequestAbortedError } = require('../core/errors')\n\nconst kListener = Symbol('kListener')\nconst kSignal = Symbol('kSignal')\n\nfunction abort (self) {\n  if (self.abort) {\n    self.abort()\n  } else {\n    self.onError(new RequestAbortedError())\n  }\n}\n\nfunction addSignal (self, signal) {\n  self[kSignal] = null\n  self[kListener] = null\n\n  if (!signal) {\n    return\n  }\n\n  if (signal.aborted) {\n    abort(self)\n    return\n  }\n\n  self[kSignal] = signal\n  self[kListener] = () => {\n    abort(self)\n  }\n\n  addAbortListener(self[kSignal], self[kListener])\n}\n\nfunction removeSignal (self) {\n  if (!self[kSignal]) {\n    return\n  }\n\n  if ('removeEventListener' in self[kSignal]) {\n    self[kSignal].removeEventListener('abort', self[kListener])\n  } else {\n    self[kSignal].removeListener('abort', self[kListener])\n  }\n\n  self[kSignal] = null\n  self[kListener] = null\n}\n\nmodule.exports = {\n  addSignal,\n  removeSignal\n}\n"],"mappings":"AAAA,MAAM;EAAEA;AAAiB,CAAC,GAAGC,OAAO,CAAC,cAAc,CAAC;AACpD,MAAM;EAAEC;AAAoB,CAAC,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAEzD,MAAME,SAAS,GAAGC,MAAM,CAAC,WAAW,CAAC;AACrC,MAAMC,OAAO,GAAGD,MAAM,CAAC,SAAS,CAAC;AAEjC,SAASE,KAAKA,CAAEC,IAAI,EAAE;EACpB,IAAIA,IAAI,CAACD,KAAK,EAAE;IACdC,IAAI,CAACD,KAAK,CAAC,CAAC;EACd,CAAC,MAAM;IACLC,IAAI,CAACC,OAAO,CAAC,IAAIN,mBAAmB,CAAC,CAAC,CAAC;EACzC;AACF;AAEA,SAASO,SAASA,CAAEF,IAAI,EAAEG,MAAM,EAAE;EAChCH,IAAI,CAACF,OAAO,CAAC,GAAG,IAAI;EACpBE,IAAI,CAACJ,SAAS,CAAC,GAAG,IAAI;EAEtB,IAAI,CAACO,MAAM,EAAE;IACX;EACF;EAEA,IAAIA,MAAM,CAACC,OAAO,EAAE;IAClBL,KAAK,CAACC,IAAI,CAAC;IACX;EACF;EAEAA,IAAI,CAACF,OAAO,CAAC,GAAGK,MAAM;EACtBH,IAAI,CAACJ,SAAS,CAAC,GAAG,MAAM;IACtBG,KAAK,CAACC,IAAI,CAAC;EACb,CAAC;EAEDP,gBAAgB,CAACO,IAAI,CAACF,OAAO,CAAC,EAAEE,IAAI,CAACJ,SAAS,CAAC,CAAC;AAClD;AAEA,SAASS,YAAYA,CAAEL,IAAI,EAAE;EAC3B,IAAI,CAACA,IAAI,CAACF,OAAO,CAAC,EAAE;IAClB;EACF;EAEA,IAAI,qBAAqB,IAAIE,IAAI,CAACF,OAAO,CAAC,EAAE;IAC1CE,IAAI,CAACF,OAAO,CAAC,CAACQ,mBAAmB,CAAC,OAAO,EAAEN,IAAI,CAACJ,SAAS,CAAC,CAAC;EAC7D,CAAC,MAAM;IACLI,IAAI,CAACF,OAAO,CAAC,CAACS,cAAc,CAAC,OAAO,EAAEP,IAAI,CAACJ,SAAS,CAAC,CAAC;EACxD;EAEAI,IAAI,CAACF,OAAO,CAAC,GAAG,IAAI;EACpBE,IAAI,CAACJ,SAAS,CAAC,GAAG,IAAI;AACxB;AAEAY,MAAM,CAACC,OAAO,GAAG;EACfP,SAAS;EACTG;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}