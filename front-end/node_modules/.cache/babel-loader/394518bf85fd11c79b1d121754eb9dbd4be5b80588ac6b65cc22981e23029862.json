{"ast":null,"code":"'use strict';\n\nlet fastNow = Date.now();\nlet fastNowTimeout;\nconst fastTimers = [];\nfunction onTimeout() {\n  fastNow = Date.now();\n  let len = fastTimers.length;\n  let idx = 0;\n  while (idx < len) {\n    const timer = fastTimers[idx];\n    if (timer.state === 0) {\n      timer.state = fastNow + timer.delay;\n    } else if (timer.state > 0 && fastNow >= timer.state) {\n      timer.state = -1;\n      timer.callback(timer.opaque);\n    }\n    if (timer.state === -1) {\n      timer.state = -2;\n      if (idx !== len - 1) {\n        fastTimers[idx] = fastTimers.pop();\n      } else {\n        fastTimers.pop();\n      }\n      len -= 1;\n    } else {\n      idx += 1;\n    }\n  }\n  if (fastTimers.length > 0) {\n    refreshTimeout();\n  }\n}\nfunction refreshTimeout() {\n  if (fastNowTimeout && fastNowTimeout.refresh) {\n    fastNowTimeout.refresh();\n  } else {\n    clearTimeout(fastNowTimeout);\n    fastNowTimeout = setTimeout(onTimeout, 1e3);\n    if (fastNowTimeout.unref) {\n      fastNowTimeout.unref();\n    }\n  }\n}\nclass Timeout {\n  constructor(callback, delay, opaque) {\n    this.callback = callback;\n    this.delay = delay;\n    this.opaque = opaque;\n\n    //  -2 not in timer list\n    //  -1 in timer list but inactive\n    //   0 in timer list waiting for time\n    // > 0 in timer list waiting for time to expire\n    this.state = -2;\n    this.refresh();\n  }\n  refresh() {\n    if (this.state === -2) {\n      fastTimers.push(this);\n      if (!fastNowTimeout || fastTimers.length === 1) {\n        refreshTimeout();\n      }\n    }\n    this.state = 0;\n  }\n  clear() {\n    this.state = -1;\n  }\n}\nmodule.exports = {\n  setTimeout(callback, delay, opaque) {\n    return delay < 1e3 ? setTimeout(callback, delay, opaque) : new Timeout(callback, delay, opaque);\n  },\n  clearTimeout(timeout) {\n    if (timeout instanceof Timeout) {\n      timeout.clear();\n    } else {\n      clearTimeout(timeout);\n    }\n  }\n};","map":{"version":3,"names":["fastNow","Date","now","fastNowTimeout","fastTimers","onTimeout","len","length","idx","timer","state","delay","callback","opaque","pop","refreshTimeout","refresh","clearTimeout","setTimeout","unref","Timeout","constructor","push","clear","module","exports","timeout"],"sources":["C:/Users/rares/Desktop/Blockchain/Proiect/node_modules/undici/lib/timers.js"],"sourcesContent":["'use strict'\n\nlet fastNow = Date.now()\nlet fastNowTimeout\n\nconst fastTimers = []\n\nfunction onTimeout () {\n  fastNow = Date.now()\n\n  let len = fastTimers.length\n  let idx = 0\n  while (idx < len) {\n    const timer = fastTimers[idx]\n\n    if (timer.state === 0) {\n      timer.state = fastNow + timer.delay\n    } else if (timer.state > 0 && fastNow >= timer.state) {\n      timer.state = -1\n      timer.callback(timer.opaque)\n    }\n\n    if (timer.state === -1) {\n      timer.state = -2\n      if (idx !== len - 1) {\n        fastTimers[idx] = fastTimers.pop()\n      } else {\n        fastTimers.pop()\n      }\n      len -= 1\n    } else {\n      idx += 1\n    }\n  }\n\n  if (fastTimers.length > 0) {\n    refreshTimeout()\n  }\n}\n\nfunction refreshTimeout () {\n  if (fastNowTimeout && fastNowTimeout.refresh) {\n    fastNowTimeout.refresh()\n  } else {\n    clearTimeout(fastNowTimeout)\n    fastNowTimeout = setTimeout(onTimeout, 1e3)\n    if (fastNowTimeout.unref) {\n      fastNowTimeout.unref()\n    }\n  }\n}\n\nclass Timeout {\n  constructor (callback, delay, opaque) {\n    this.callback = callback\n    this.delay = delay\n    this.opaque = opaque\n\n    //  -2 not in timer list\n    //  -1 in timer list but inactive\n    //   0 in timer list waiting for time\n    // > 0 in timer list waiting for time to expire\n    this.state = -2\n\n    this.refresh()\n  }\n\n  refresh () {\n    if (this.state === -2) {\n      fastTimers.push(this)\n      if (!fastNowTimeout || fastTimers.length === 1) {\n        refreshTimeout()\n      }\n    }\n\n    this.state = 0\n  }\n\n  clear () {\n    this.state = -1\n  }\n}\n\nmodule.exports = {\n  setTimeout (callback, delay, opaque) {\n    return delay < 1e3\n      ? setTimeout(callback, delay, opaque)\n      : new Timeout(callback, delay, opaque)\n  },\n  clearTimeout (timeout) {\n    if (timeout instanceof Timeout) {\n      timeout.clear()\n    } else {\n      clearTimeout(timeout)\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}