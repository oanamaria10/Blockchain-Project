{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar decoder = require('./decoder.js');\nclass CarIteratorBase {\n  constructor(version, roots, iterable) {\n    this._version = version;\n    this._roots = roots;\n    this._iterable = iterable;\n    this._decoded = false;\n  }\n  get version() {\n    return this._version;\n  }\n  async getRoots() {\n    return this._roots;\n  }\n}\nclass CarBlockIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    return this._iterable[Symbol.asyncIterator]();\n  }\n  static async fromBytes(bytes) {\n    const {\n      version,\n      roots,\n      iterator\n    } = await fromBytes(bytes);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {\n      version,\n      roots,\n      iterator\n    } = await fromIterable(asyncIterable);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n}\nclass CarCIDIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    const iterable = this._iterable[Symbol.asyncIterator]();\n    return {\n      async next() {\n        const next = await iterable.next();\n        if (next.done) {\n          return next;\n        }\n        return {\n          done: false,\n          value: next.value.cid\n        };\n      }\n    };\n  }\n  static async fromBytes(bytes) {\n    const {\n      version,\n      roots,\n      iterator\n    } = await fromBytes(bytes);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {\n      version,\n      roots,\n      iterator\n    } = await fromIterable(asyncIterable);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n}\nasync function fromBytes(bytes) {\n  if (!(bytes instanceof Uint8Array)) {\n    throw new TypeError('fromBytes() requires a Uint8Array');\n  }\n  return decodeIterator(decoder.bytesReader(bytes));\n}\nasync function fromIterable(asyncIterable) {\n  if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n    throw new TypeError('fromIterable() requires an async iterable');\n  }\n  return decodeIterator(decoder.asyncIterableReader(asyncIterable));\n}\nasync function decodeIterator(reader) {\n  const decoder$1 = decoder.createDecoder(reader);\n  const {\n    version,\n    roots\n  } = await decoder$1.header();\n  return {\n    version,\n    roots,\n    iterator: decoder$1.blocks()\n  };\n}\nexports.CarBlockIterator = CarBlockIterator;\nexports.CarCIDIterator = CarCIDIterator;\nexports.CarIteratorBase = CarIteratorBase;","map":{"version":3,"names":["Object","defineProperty","exports","value","decoder","require","CarIteratorBase","constructor","version","roots","iterable","_version","_roots","_iterable","_decoded","getRoots","CarBlockIterator","Symbol","asyncIterator","Error","fromBytes","bytes","iterator","fromIterable","asyncIterable","CarCIDIterator","next","done","cid","Uint8Array","TypeError","decodeIterator","bytesReader","asyncIterableReader","reader","decoder$1","createDecoder","header","blocks"],"sources":["C:/FACULTATE/Proiect/node_modules/@ipld/car/cjs/lib/iterator.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar decoder = require('./decoder.js');\n\nclass CarIteratorBase {\n  constructor(version, roots, iterable) {\n    this._version = version;\n    this._roots = roots;\n    this._iterable = iterable;\n    this._decoded = false;\n  }\n  get version() {\n    return this._version;\n  }\n  async getRoots() {\n    return this._roots;\n  }\n}\nclass CarBlockIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    return this._iterable[Symbol.asyncIterator]();\n  }\n  static async fromBytes(bytes) {\n    const {version, roots, iterator} = await fromBytes(bytes);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {version, roots, iterator} = await fromIterable(asyncIterable);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n}\nclass CarCIDIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    const iterable = this._iterable[Symbol.asyncIterator]();\n    return {\n      async next() {\n        const next = await iterable.next();\n        if (next.done) {\n          return next;\n        }\n        return {\n          done: false,\n          value: next.value.cid\n        };\n      }\n    };\n  }\n  static async fromBytes(bytes) {\n    const {version, roots, iterator} = await fromBytes(bytes);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {version, roots, iterator} = await fromIterable(asyncIterable);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n}\nasync function fromBytes(bytes) {\n  if (!(bytes instanceof Uint8Array)) {\n    throw new TypeError('fromBytes() requires a Uint8Array');\n  }\n  return decodeIterator(decoder.bytesReader(bytes));\n}\nasync function fromIterable(asyncIterable) {\n  if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n    throw new TypeError('fromIterable() requires an async iterable');\n  }\n  return decodeIterator(decoder.asyncIterableReader(asyncIterable));\n}\nasync function decodeIterator(reader) {\n  const decoder$1 = decoder.createDecoder(reader);\n  const {version, roots} = await decoder$1.header();\n  return {\n    version,\n    roots,\n    iterator: decoder$1.blocks()\n  };\n}\n\nexports.CarBlockIterator = CarBlockIterator;\nexports.CarCIDIterator = CarCIDIterator;\nexports.CarIteratorBase = CarIteratorBase;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}